# /etc/mosquitto/mosquitto.conf
# or /usr/local/etc/mosquitto/mosquitto.conf
# or specify with: mosquitto -c /path/to/this/file.conf

# --- Persistence ---
# Store retained messages and subscriptions
#persistence true
#persistence_location /var/lib/mosquitto/

# --- Listener ---
# Listen on the standard unencrypted MQTT port
listener 1883
listener 9001
protocol websockets
# For this basic example, allow connections without username/password
# !! WARNING: This is insecure for production environments !!
allow_anonymous true

# --- Logging ---
# Log destination(s). Can use 'stdout', 'stderr', 'syslog', or 'file path'.
# Using 'file' is common for services. Ensure the directory exists and
# mosquitto has write permissions (e.g., chown mosquitto:mosquitto /var/log/mosquitto).
#log_dest topic
#log_dest syslog
#log_dest file /mosquitto/log/mq.log
# Alternatively, for testing or containers, you might use:
log_dest stdout
#log_dest stderr

# Log types to include. 'all' is very verbose but includes what you need.
# It encompasses: debug, error, warning, notice, information, subscribe, unsubscribe, websockets, none, publish, io
log_type all

# You can also specify multiple types if 'all' is too much later:
#log_type error
#log_type warning
#log_type notice
#log_type information
#log_type subscribe
#log_type unsubscribe
#log_type publish  #(Logs client ID, topic for received/sent messages)

# To specifically see message reception and sending attempts, 'publish' within 'all' is key.
# You could potentially reduce verbosity slightly with:
#log_type error, warning, notice, information, subscribe, unsubscribe, publish